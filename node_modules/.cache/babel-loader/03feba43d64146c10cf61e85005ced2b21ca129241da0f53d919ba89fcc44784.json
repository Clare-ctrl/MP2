{"ast":null,"code":"import{useState}from\"react\";import useFetchData from\"./FatchData\";import{Link}from\"react-router-dom\";import\"./SearchInput.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchInput(){const{data,loading}=useFetchData(\"search\");const[inputValue,setInputValue]=useState('');const[sortOrder,setSortOrder]=useState(\"asc\");//default\nconst[optionValue,setOption]=useState('p-name');//default\nif(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});let filteredData=[];if(optionValue==='p-name'){filteredData=data.filter(item=>item.name.toLowerCase().includes(inputValue.toLowerCase())).sort((a,b)=>sortOrder===\"asc\"?a.name.localeCompare(b.name):b.name.localeCompare(a.name));}else if(optionValue==='p-index'){filteredData=data.filter(item=>String(item.id).includes(inputValue)).sort((a,b)=>sortOrder===\"asc\"?a.id-b.id:b.id-a.id);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValue,onChange:e=>setInputValue(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Search Category\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"options\",value:optionValue,onChange:e=>setOption(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"p-name\",children:\"Pok\\xE9mon Name\"}),/*#__PURE__*/_jsx(\"option\",{value:\"p-index\",children:\"Pok\\xE9mon Index\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-row\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"asc\",checked:sortOrder===\"asc\",onChange:e=>setSortOrder(e.target.value)}),\"Ascending\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"desc\",checked:sortOrder===\"desc\",onChange:e=>setSortOrder(e.target.value)}),\"Descending\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"result-grid\",children:inputValue.trim()===\"\"?null:filteredData.length>0?filteredData.map(item=>/*#__PURE__*/_jsxs(Link,{to:\"/carousel/\".concat(item.id),className:\"result-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"poke-img\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"#\",item.id,\" \",item.name]})})]},item.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No results found\"})})]});}","map":{"version":3,"names":["useState","useFetchData","Link","jsx","_jsx","jsxs","_jsxs","SearchInput","data","loading","inputValue","setInputValue","sortOrder","setSortOrder","optionValue","setOption","children","filteredData","filter","item","name","toLowerCase","includes","sort","a","b","localeCompare","String","id","className","type","value","onChange","e","target","required","checked","trim","length","map","to","concat","src","image","alt"],"sources":["/Users/mengmengfang/Desktop/mp2/src/components/SearchInput.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport useFetchData from \"./FatchData\";\nimport { Link } from \"react-router-dom\";\nimport \"./SearchInput.css\";\n\ninterface Pokemon {\n  id: number;\n  name: string;\n  image: string;\n}\n\nexport default function SearchInput() {\n    const { data, loading } = useFetchData(\"search\");\n    const [inputValue, setInputValue] = useState('');\n    const [sortOrder, setSortOrder] = useState(\"asc\"); //default\n    const [optionValue, setOption] = useState('p-name'); //default\n\n    if (loading) return <p>Loading...</p>;\n\n    let filteredData: Pokemon[] = [];\n\n    if (optionValue === 'p-name') {\n        filteredData = data\n            .filter(item =>\n                item.name.toLowerCase().includes(inputValue.toLowerCase())\n            )\n            .sort((a, b) =>\n                sortOrder === \"asc\"\n                    ? a.name.localeCompare(b.name)\n                    : b.name.localeCompare(a.name));\n    }\n\n    else if (optionValue === 'p-index') {\n        filteredData = data\n            .filter(item =>\n                String(item.id).includes(inputValue)\n            )\n            .sort((a, b) =>\n                sortOrder === \"asc\"\n                    ? a.id - b.id\n                    : b.id - a.id);\n    }\n\n    return (\n        <div>\n            <form>\n                <div className=\"control\">\n                    <label>Search</label>\n                    <input\n                        type=\"text\"\n                        value={inputValue}\n                        onChange={(e) => setInputValue(e.target.value)}\n                        required />\n                </div>\n                <div className=\"control\">\n                    <label>Search Category</label>\n                    <select id=\"options\" value={optionValue}\n                        onChange={(e) => setOption(e.target.value)}>\n                        <option value=\"p-name\">Pokémon Name</option>\n                        <option value=\"p-index\">Pokémon Index</option>\n                    </select>\n                </div>\n                <div className=\"control-row\">\n                    <label>\n                        <input type=\"radio\" value=\"asc\"\n                            checked={sortOrder === \"asc\"}\n                            onChange={(e) => setSortOrder(e.target.value)} />\n                        Ascending\n                    </label>\n                    <label>\n                        <input type=\"radio\" value=\"desc\"\n                            checked={sortOrder === \"desc\"}\n                            onChange={(e) => setSortOrder(e.target.value)} />\n                        Descending\n                    </label>\n                </div>\n            </form>\n            {/* Show results live */}\n            <div className=\"result-grid\">\n                {inputValue.trim() === \"\" ? null : (\n                    filteredData.length > 0 ? (\n                        filteredData.map((item) => (\n                            <Link to={`/carousel/${item.id}`}  key={item.id} className=\"result-card\">\n                                <img src={item.image} alt={item.name} className=\"poke-img\" />\n                                <p><strong>#{item.id} {item.name}</strong></p>\n                            </Link>\n                        ))\n                    ) : (\n                        <p>No results found</p>\n                    )\n                )}\n            </div>\n        </div>\n    );\n\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}