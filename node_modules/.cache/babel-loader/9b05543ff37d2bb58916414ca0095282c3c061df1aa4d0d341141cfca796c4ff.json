{"ast":null,"code":"import{useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import TabButton from'../components/TabButton';import SearchInput from'../components/SearchInput';import GalleryView from'../components/GalleryView';import\"./TabSection.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TabSection(){const[selectedTopic,setSelectedTopic]=useState(null);const[galleryKey,setGalleryKey]=useState(0);const location=useLocation();const navigate=useNavigate();const isCarousel=location.pathname.startsWith('/carousel/');function handleSelect(selectedButton){setSelectedTopic(selectedButton);// Navigate back to root if on carousel route\nif(isCarousel){navigate('/');}if(selectedTopic==='gallery'){setGalleryKey(k=>k+1);}}let tabContent=null;if(selectedTopic==='search'){tabContent=/*#__PURE__*/_jsx(\"div\",{id:\"tab-content\",children:/*#__PURE__*/_jsx(SearchInput,{})});}else if(selectedTopic==='gallery'){tabContent=/*#__PURE__*/_jsx(GalleryView,{},galleryKey);}return/*#__PURE__*/_jsxs(\"section\",{id:\"selection\",children:[/*#__PURE__*/_jsxs(\"menu\",{children:[/*#__PURE__*/_jsx(TabButton,{isSelected:selectedTopic===\"search\",onSelect:()=>handleSelect(\"search\"),children:\"Search\"}),/*#__PURE__*/_jsx(TabButton,{isSelected:selectedTopic===\"gallery\",onSelect:()=>handleSelect(\"gallery\"),children:\"Gallery\"})]}),/*#__PURE__*/_jsx(\"main\",{children:!isCarousel&&tabContent})]});}","map":{"version":3,"names":["useState","useLocation","useNavigate","TabButton","SearchInput","GalleryView","jsx","_jsx","jsxs","_jsxs","TabSection","selectedTopic","setSelectedTopic","galleryKey","setGalleryKey","location","navigate","isCarousel","pathname","startsWith","handleSelect","selectedButton","k","tabContent","id","children","isSelected","onSelect"],"sources":["/Users/mengmengfang/Desktop/mp2/src/components/TabSection.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport TabButton from '../components/TabButton';\nimport SearchInput from '../components/SearchInput';\nimport GalleryView from '../components/GalleryView';\nimport \"./TabSection.css\";\n\nexport default function TabSection() {\n  type Topic = \"search\" | \"gallery\" | null;\n  const [selectedTopic, setSelectedTopic] = useState<Topic>(null);\n  const [galleryKey, setGalleryKey] = useState(0);\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const isCarousel = location.pathname.startsWith('/carousel/');\n  function handleSelect(selectedButton: Topic) {\n    setSelectedTopic(selectedButton);\n    // Navigate back to root if on carousel route\n    if (isCarousel) {\n      navigate('/');\n    }\n    if (selectedTopic === 'gallery') {\n      setGalleryKey(k => k+1);\n    }\n  }\n\n  let tabContent = null;\n  if (selectedTopic === 'search') {\n    tabContent = (\n      <div id=\"tab-content\">\n        <SearchInput />\n      </div>\n    );\n  } else if (selectedTopic === 'gallery') {\n  tabContent = <GalleryView key={galleryKey} />; \n}\n\n  return (\n    <section id=\"selection\">\n      <menu>\n        <TabButton\n          isSelected={selectedTopic === \"search\"}\n          onSelect={() => handleSelect(\"search\")}\n        >\n          Search\n        </TabButton>\n        <TabButton\n          isSelected={selectedTopic === \"gallery\"}\n          onSelect={() => handleSelect(\"gallery\")}\n        >\n          Gallery\n        </TabButton>\n      </menu>\n      <main>{!isCarousel && tabContent}</main>\n    </section>\n  );\n}"],"mappings":"AAAA,OAASA,QAAQ,KAAmB,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CAEnC,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGZ,QAAQ,CAAQ,IAAI,CAAC,CAC/D,KAAM,CAACa,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAAAe,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAe,UAAU,CAAGF,QAAQ,CAACG,QAAQ,CAACC,UAAU,CAAC,YAAY,CAAC,CAC7D,QAAS,CAAAC,YAAYA,CAACC,cAAqB,CAAE,CAC3CT,gBAAgB,CAACS,cAAc,CAAC,CAChC;AACA,GAAIJ,UAAU,CAAE,CACdD,QAAQ,CAAC,GAAG,CAAC,CACf,CACA,GAAIL,aAAa,GAAK,SAAS,CAAE,CAC/BG,aAAa,CAACQ,CAAC,EAAIA,CAAC,CAAC,CAAC,CAAC,CACzB,CACF,CAEA,GAAI,CAAAC,UAAU,CAAG,IAAI,CACrB,GAAIZ,aAAa,GAAK,QAAQ,CAAE,CAC9BY,UAAU,cACRhB,IAAA,QAAKiB,EAAE,CAAC,aAAa,CAAAC,QAAA,cACnBlB,IAAA,CAACH,WAAW,GAAE,CAAC,CACZ,CACN,CACH,CAAC,IAAM,IAAIO,aAAa,GAAK,SAAS,CAAE,CACxCY,UAAU,cAAGhB,IAAA,CAACF,WAAW,IAAMQ,UAAa,CAAC,CAC/C,CAEE,mBACEJ,KAAA,YAASe,EAAE,CAAC,WAAW,CAAAC,QAAA,eACrBhB,KAAA,SAAAgB,QAAA,eACElB,IAAA,CAACJ,SAAS,EACRuB,UAAU,CAAEf,aAAa,GAAK,QAAS,CACvCgB,QAAQ,CAAEA,CAAA,GAAMP,YAAY,CAAC,QAAQ,CAAE,CAAAK,QAAA,CACxC,QAED,CAAW,CAAC,cACZlB,IAAA,CAACJ,SAAS,EACRuB,UAAU,CAAEf,aAAa,GAAK,SAAU,CACxCgB,QAAQ,CAAEA,CAAA,GAAMP,YAAY,CAAC,SAAS,CAAE,CAAAK,QAAA,CACzC,SAED,CAAW,CAAC,EACR,CAAC,cACPlB,IAAA,SAAAkB,QAAA,CAAO,CAACR,UAAU,EAAIM,UAAU,CAAO,CAAC,EACjC,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}