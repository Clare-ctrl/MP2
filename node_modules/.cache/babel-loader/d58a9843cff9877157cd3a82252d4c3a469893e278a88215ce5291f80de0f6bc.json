{"ast":null,"code":"var _jsxFileName = \"/Users/mengmengfang/Desktop/mp2/src/components/GalleryView.tsx\",\n  _s = $RefreshSig$();\nimport useFetchData from \"./FatchData\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { useState, useMemo, useEffect } from \"react\";\nimport \"./GalleryView.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GalleryView() {\n  _s();\n  const location = useLocation();\n  const isCarouselActive = location.pathname.startsWith(\"/carousel/\");\n  const {\n    data,\n    loading\n  } = useFetchData(\"gallery\");\n  const [filterText, setFilterText] = useState('');\n  const pokemonData = useMemo(() => {\n    return data !== null && data !== void 0 ? data : [];\n  }, [data]);\n  console.log(pokemonData);\n  useEffect(() => {\n    setFilterText(\"all\"); // reset whenever gallery is active\n  }, [location.key]);\n  const filteredData = useMemo(() => {\n    if (!filterText || filterText === \"all\") {\n      return pokemonData;\n    }\n    console.log(filterText);\n    const needle = filterText.toLowerCase();\n    return pokemonData.filter(item => {\n      var _item$types;\n      return (_item$types = item.types) === null || _item$types === void 0 ? void 0 : _item$types.some(t => t.toLowerCase().includes(needle));\n    });\n  }, [pokemonData, filterText]);\n  const handleFilterChange = text => setFilterText(text);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 23\n  }, this);\n  console.log(filteredData);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter\",\n      children: !isCarouselActive && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleFilterChange(\"fire\"),\n          children: \"Fire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleFilterChange(\"water\"),\n          children: \"Water\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleFilterChange(\"grass\"),\n          children: \"Grass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleFilterChange(\"electric\"),\n          children: \"Electric\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleFilterChange(\"poison\"),\n          children: \"Electric\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleFilterChange(\"bug\"),\n          children: \"Bug\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleFilterChange(\"all\"),\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery-grid\",\n      children: filteredData.map(item => /*#__PURE__*/_jsxDEV(Link, {\n        to: `/carousel/${item.id}`,\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.image,\n          alt: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(GalleryView, \"DGTeueX2ou+1em9GNWBB9XHmBl4=\", false, function () {\n  return [useLocation, useFetchData];\n});\n_c = GalleryView;\nvar _c;\n$RefreshReg$(_c, \"GalleryView\");","map":{"version":3,"names":["useFetchData","Link","useLocation","useState","useMemo","useEffect","jsxDEV","_jsxDEV","GalleryView","_s","location","isCarouselActive","pathname","startsWith","data","loading","filterText","setFilterText","pokemonData","console","log","key","filteredData","needle","toLowerCase","filter","item","_item$types","types","some","t","includes","handleFilterChange","text","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","map","to","id","src","image","alt","name","_c","$RefreshReg$"],"sources":["/Users/mengmengfang/Desktop/mp2/src/components/GalleryView.tsx"],"sourcesContent":["import useFetchData from \"./FatchData\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { useState, useMemo, useEffect } from \"react\";\nimport \"./GalleryView.css\";\n\n\ninterface Pokemon {\n  id: number;\n  name: string;\n  image: string;\n  types?: string[];\n}\n\nexport default function GalleryView() {\n  const location = useLocation(); \n  const isCarouselActive = location.pathname.startsWith(\"/carousel/\");\n\n  const { data, loading } = useFetchData(\"gallery\");\n  \n  const [filterText, setFilterText] = useState('');\n\n\n  const pokemonData: Pokemon[] = useMemo(() => { return data ?? [] } , [data]);\n  console.log(pokemonData);\n  useEffect(() => {\n  \n    setFilterText(\"all\"); // reset whenever gallery is active\n  }, [location.key]);\n\n  const filteredData = useMemo(() => {\n    if (!filterText || filterText === \"all\") { return pokemonData;}\n    console.log(filterText);\n    const needle = filterText.toLowerCase();\n    return pokemonData.filter((item) =>\n      \n      item.types?.some((t: string) => t.toLowerCase().includes(needle))\n    );\n  }, [pokemonData, filterText]);\n\n\n  const handleFilterChange = (text: string) => setFilterText(text);\n  \n  if (loading) return <p>Loading...</p>;\n  console.log(filteredData);\n  return (\n    <div>\n        <div className=\"filter\">\n      {!isCarouselActive && (\n        <div className=\"filter-buttons\">\n          <button onClick={() => handleFilterChange(\"fire\")}>Fire</button>\n          <button onClick={() => handleFilterChange(\"water\")}>Water</button>\n          <button onClick={() => handleFilterChange(\"grass\")}>Grass</button>\n          <button onClick={() => handleFilterChange(\"electric\")}>Electric</button>\n          <button onClick={() => handleFilterChange(\"poison\")}>Electric</button>\n          <button onClick={() => handleFilterChange(\"bug\")}>Bug</button>\n          <button onClick={() => handleFilterChange(\"all\")}>All</button>\n        </div>\n      )}\n      </div>\n      {/* Show results live */}\n      <div className=\"gallery-grid\">\n        {filteredData.map((item) => (\n          <Link to={`/carousel/${item.id}`} key={item.id} className=\"card\">\n            <img src={item.image} alt={item.name} />\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,YAAY,MAAM,aAAa;AACtC,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,QAAQ,EAAEC,OAAO,EAAEC,SAAS,QAAQ,OAAO;AACpD,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAU3B,eAAe,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACpC,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAMS,gBAAgB,GAAGD,QAAQ,CAACE,QAAQ,CAACC,UAAU,CAAC,YAAY,CAAC;EAEnE,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGf,YAAY,CAAC,SAAS,CAAC;EAEjD,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAGhD,MAAMe,WAAsB,GAAGd,OAAO,CAAC,MAAM;IAAE,OAAOU,IAAI,aAAJA,IAAI,cAAJA,IAAI,GAAI,EAAE;EAAC,CAAC,EAAG,CAACA,IAAI,CAAC,CAAC;EAC5EK,OAAO,CAACC,GAAG,CAACF,WAAW,CAAC;EACxBb,SAAS,CAAC,MAAM;IAEdY,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;EACxB,CAAC,EAAE,CAACP,QAAQ,CAACW,GAAG,CAAC,CAAC;EAElB,MAAMC,YAAY,GAAGlB,OAAO,CAAC,MAAM;IACjC,IAAI,CAACY,UAAU,IAAIA,UAAU,KAAK,KAAK,EAAE;MAAE,OAAOE,WAAW;IAAC;IAC9DC,OAAO,CAACC,GAAG,CAACJ,UAAU,CAAC;IACvB,MAAMO,MAAM,GAAGP,UAAU,CAACQ,WAAW,CAAC,CAAC;IACvC,OAAON,WAAW,CAACO,MAAM,CAAEC,IAAI;MAAA,IAAAC,WAAA;MAAA,QAAAA,WAAA,GAE7BD,IAAI,CAACE,KAAK,cAAAD,WAAA,uBAAVA,WAAA,CAAYE,IAAI,CAAEC,CAAS,IAAKA,CAAC,CAACN,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACR,MAAM,CAAC,CAAC;IAAA,CACnE,CAAC;EACH,CAAC,EAAE,CAACL,WAAW,EAAEF,UAAU,CAAC,CAAC;EAG7B,MAAMgB,kBAAkB,GAAIC,IAAY,IAAKhB,aAAa,CAACgB,IAAI,CAAC;EAEhE,IAAIlB,OAAO,EAAE,oBAAOR,OAAA;IAAA2B,QAAA,EAAG;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EACrCnB,OAAO,CAACC,GAAG,CAACE,YAAY,CAAC;EACzB,oBACEf,OAAA;IAAA2B,QAAA,gBACI3B,OAAA;MAAKgC,SAAS,EAAC,QAAQ;MAAAL,QAAA,EACxB,CAACvB,gBAAgB,iBAChBJ,OAAA;QAAKgC,SAAS,EAAC,gBAAgB;QAAAL,QAAA,gBAC7B3B,OAAA;UAAQiC,OAAO,EAAEA,CAAA,KAAMR,kBAAkB,CAAC,MAAM,CAAE;UAAAE,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAChE/B,OAAA;UAAQiC,OAAO,EAAEA,CAAA,KAAMR,kBAAkB,CAAC,OAAO,CAAE;UAAAE,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClE/B,OAAA;UAAQiC,OAAO,EAAEA,CAAA,KAAMR,kBAAkB,CAAC,OAAO,CAAE;UAAAE,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClE/B,OAAA;UAAQiC,OAAO,EAAEA,CAAA,KAAMR,kBAAkB,CAAC,UAAU,CAAE;UAAAE,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACxE/B,OAAA;UAAQiC,OAAO,EAAEA,CAAA,KAAMR,kBAAkB,CAAC,QAAQ,CAAE;UAAAE,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACtE/B,OAAA;UAAQiC,OAAO,EAAEA,CAAA,KAAMR,kBAAkB,CAAC,KAAK,CAAE;UAAAE,QAAA,EAAC;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC9D/B,OAAA;UAAQiC,OAAO,EAAEA,CAAA,KAAMR,kBAAkB,CAAC,KAAK,CAAE;UAAAE,QAAA,EAAC;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3D;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eAEN/B,OAAA;MAAKgC,SAAS,EAAC,cAAc;MAAAL,QAAA,EAC1BZ,YAAY,CAACmB,GAAG,CAAEf,IAAI,iBACrBnB,OAAA,CAACN,IAAI;QAACyC,EAAE,EAAE,aAAahB,IAAI,CAACiB,EAAE,EAAG;QAAeJ,SAAS,EAAC,MAAM;QAAAL,QAAA,eAC9D3B,OAAA;UAAKqC,GAAG,EAAElB,IAAI,CAACmB,KAAM;UAACC,GAAG,EAAEpB,IAAI,CAACqB;QAAK;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC,GADHZ,IAAI,CAACiB,EAAE;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAExC,CACP;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC7B,EAAA,CAxDuBD,WAAW;EAAA,QAChBN,WAAW,EAGFF,YAAY;AAAA;AAAAgD,EAAA,GAJhBxC,WAAW;AAAA,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}